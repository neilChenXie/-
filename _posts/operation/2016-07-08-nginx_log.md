---
layout: post
title: Nginx Log
permalink: /:categories/nginx_log/
date: 2016-07-08 11:30:15 +0800
category: Operation
tags: [nginx, log]
---

### nginx.conf

```
log_format json_log '{ "time_local": "$time_local",'
                      '"remote_addr": "$remote_addr",'
                      '"http_x_forwarded_for": "$http_x_forwarded_for",'
                      '"remote_user": "$remote_user",'
                      '"request_length": "$request_length",'
                      '"request_method": "$request_method",'
                      '"request_uri": "$request_uri",'
                      '"server_protocol": "$server_protocol",'
                      '"cookie_JSESSIONID": "$cookie_JSESSIONID",'
                      '"request_body": "$request_body",'
                      '"http_referer": "$http_referer",'
                      '"http_user_agent": "$http_user_agent",'
                      '"request_time": "$request_time",'
                      '"status": "$status",'
                      '"body_bytes_sent": "$body_bytes_sent"}';

access_log  /var/log/nginx/analysis.log  json_log;
```

### 字段对应图

[![nginx_log]({{ site.baseurl }}/img/log/Nginx_Log.png)]({{ site.baseurl }}/img/log/Nginx_Log.png)

