---
layout: post
title: 世强线上线下数据报告及方案
permalink: /:categories/sekorm_data_model_report/
date: 2016-09-22 09:30:15 +0800
category: Architecture
tags: [arch, model]
---

### 一、背景

电商成立以来，在"知选研用"垂直服务目标的驱使下，不可避免的与CRM，COP，ERP等线下数据产生交互，这些交互也是必要的。但是，因为对数据的需求不同，如:电商偏向**会员数据**而CRM/ERP侧重**客户数据**,电商偏向**推广**而ERP侧重**交易**。使的线上的模型和线下的模型呈现**交集**的情况，无法通过简单的对应关系将线上线下数据联系起来。

### 二、现状

目前线上线下交互数据有：会员联系人客户，PN物料/库存，线索项目，员工资料/组织结构。最为核心的是**会员联系人**和**PN物料**，因为线索项目存在问题的根源包含会员联系人客户的问题，员工资料/组织结构还未在电商使用。而且会员联系人客户和PN也是世强最重要的基础数据。

> 以下是整体实体现状图

[![整体现状]({{ site.baseurl }}/img/sekorm_data_report/实体图.png)]({{ site.baseurl }}/img/sekorm_data_report/实体图.png)



### 三、方案思路

通过了解现在线上模型和线下模型，提取核心部分（即字段）建立统一模型，将各系统需要的信息单独建模。这样的好处：1. 系统原有的模型不用更改，由新模型组织所需字段同步更新即可；2. 方便支持未来更多系统的对接，新系统接入时，新建相关信息模型即可。

系统间同步采用**消息机制**和**对帐机制**。实现系统解耦和信息准确性保证。

> 以下分会员联系人，PN物料单独介绍。以下方案只涉及模型设计。具体实施方案后续会议介绍。

### 四、会员联系人

#### 4.1 现状及问题

信息需求不同。电商服务于电子工程师，信息需求偏向人，对人所属公司信息要求较低。线下服务按照2B建模，对客户信息有较高要求。

所以电商VIP的信息与联系人相似，但是VIP所属公司信息达不到世强对客户信息的要求。因此，VIP与联系人连接条件一直很繁杂，连接场景存在漏洞。

[![会员联系人现状]({{ site.baseurl }}/img/sekorm_data_report/会员联系人客户-现状.png)]({{ site.baseurl }}/img/sekorm_data_report/会员联系人客户-现状.png)

#### 4.2 方案


提取会员模型，不管是联系人还是电商注册，都属于会员。电商VIP模型由**会员**模型和**电商身份**模型组成。CRM联系人模型由**会员**模型和**工作信息**组成。ERP联系人由**会员**模型，**工作信息**模型和**收获收票信息**模型组成。

提取客户模型，只要通过审核，有中文全称，即属于客户。电商原有公司模型与客户模型一致。CRM客户模型由**客户**模型和**价值信息**模型组成。ERP客户由**客户**模型和**价值信息**模型和**交易信息**模型组成。

因为涉及模型更新，和未来打通线上线下服务的需求，新模型在电商系统实现。


[![会员联系人方案]({{ site.baseurl }}/img/sekorm_data_report/会员联系人客户-方案.png)]({{ site.baseurl }}/img/sekorm_data_report/会员联系人客户-方案.png)

### 五、PN物料

#### 5.1 现状及问题

录入需求不同。电商录入PN，系列，系列型号等是为**推广**提供核心信息。ERP录入PN，是为交易、进出口提供精确信息。

[![PN现状]({{ site.baseurl }}/img/sekorm_data_report/PN-现状.png)]({{ site.baseurl }}/img/sekorm_data_report/PN-现状.png)

#### 5.2 方案

添加**PN交易信息**模型。现有ERP的PN模型由电商**PN**模型和**PN交易信息**模型组成。

[![PN方案]({{ site.baseurl }}/img/sekorm_data_report/PN-方案.png)]({{ site.baseurl }}/img/sekorm_data_report/PN-方案.png)

